---
layout: post
title: LCS 알고리즘
description: >
  LCS Algorithm
hide_description: false
sitemap: false
date: 2021-04-29 22:24:00 +0900
category: algorithm
tag : [dynamic]
---

# LCS 알고리즘(Longest Common Subsequence Algorithm)

> LCS 알고리즘, 한국어로 풀어보면 최장 공통 부분 순서라는 의미가 된다. 이 말의 의미는 어떤 두 문자열이 있을 때 문자열이 공통적인 순서를 보이는 문자열이 존재한다. 이에 해당하는 문자열 중 가장 길이가 긴 문자열을 최장 공통 부분 순서라 한다.
{:.note title="attention"}

위의 설명처럼 최장 공통 부분 순서를 구하기 위해서는 먼저 테이블을 만들어야 한다. 이 테이블이 작성되는 과정때문에 LCS는 Dynamic Programming으로 분류된다. 해당 테이블의 가장 처음 행과 열은 두 문자열이 공백일 경우부터 시작된다.

이에 따라, X라는 문자열과 Y라는 문자열이 있고 문자들이 인덱스로 연결되어 있다고 했을 때 0번째는 길이가 0일때를 의미한다.

$$
\begin{align*}
  &X = \text{`asdf'} \\
  &Y = \text{`ewfasd'} \\
\end{align*}
$$

위 문자열 있을 때 각각 i, j로 ...

$$
\begin{align*}
  &X= \text{\{`',`a', `s', `d', `f'\}} \\
  &Y= \text{\{`', `e', `w', `f', `a', `s', `d'\}} \\
\\
  &X_{2} = `as' \\
  &Y_{5} = `ewfas' \\
\\
  &X_{i} = \{ x_{1}x_{2}x_{3} \cdots x_{i} \} \\
  &Y_{j} = \{ y_{1}y_{2}y_{3} \cdots y_{j} \}
\end{align*}
$$

이 때 i, j 중 하나가 0이라면 최장 공통 부분 순서(LCS Length)는 0이 될 것이다. 두 문자열 중 하나의 문자열의 길이가 0이라는 것을 의미하고, 그렇다면 공통 부분은 없을 것이기 때문이다.  
  
그 외의 다른 경우 중 하나인 x의 i번째와 y의 j번째가 같다면, 즉 문자열 X와 문자열 Y의 마지막 요소(문자)가 같다면 LCS Length는 그 이전까지의 공통 부분 순서의 값에서 +1이 된 값을 반환하게 된다. 그 이전까지의 최장 공통 부분 순서 값에서 X의 i번째, Y의 j번째가 같으니 최장 공통 부분 순서의 길이가 하나 플러스 된다는 의미이다. 이를 점화식으로 표현하면 아래와 같다.

$$
LCS\_LENGTH(X_{i}, Y_{j}) = LCS\_LENGTH(X_{i-1}, Y_{j-1}) + 1
$$

또 다른 경우인 마지막 요소도 다른 경우를 생각해보자. 이 경우는 각 문자열의 이전 값까지를 취했을 때 큰 값을 가지고 큰 쪽이 그 마지막 요소까지의 최장 공통 부분 순서의 값이 된다.  
마지막 두 문자가 다를 경우 각각의 그 이전까지의 최장 공통 부분은 다를 수 있다는 것을 이해한다면 바로 이해할 수 있을 것이다. 일단 점화식부터 살펴보도록 하자.

$$
LCS_LENGTH(X_{i}, Y_{j}) =
\begin{cases}
0 &\text{, }i = 0 or j = 0 \\
LCS\_LENGTH(X_{i-1}, Y_{j-1})+1 &\text{, }x_{i} = y_{j} \\
MAX(LCS\_LENGTH(X_{i-1}, Y_{j}), LCS\_LENGTH(X_{i}, Y_{j-1})) &\text{, }i,j \ge 0 \space and \space x_{i} \ne y_{j}
\end{cases}
$$

이렇게 각각의 경우를 염두에 두고 점화식이 나왔다. 이제 이를 토대로 LCS 테이블을 만드는 알고리즘을 구현하면 된다.

정리중